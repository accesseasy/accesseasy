<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>accesseasy — Event Payments</title>
  <meta name="description" content="accesseasy — next-gen event payment layer on Solana" />

  <style>
    /* Pastel blue theme with orange & white accents */
    :root{
      --bg-100: #e9f6ff;        /* page background (very light pastel blue) */
      --bg-200: #d7efff;        /* section backgrounds */
      --card:    #cfe8ff;       /* card surface */
      --border:  rgba(8,40,60,0.08);
      --text:    #073047;       /* deep blue text */
      --muted:   #4b6b78;       /* muted text */
      --accent-o: #ff9f4a;      /* orange */
      --accent-o-2:#ffc08a;     /* lighter orange */
      --white:   #ffffff;
      --glass:   rgba(255,255,255,0.6);
      --shadow:  0 12px 30px rgba(7,38,58,0.06);
      --radius: 14px;
    }

    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg-100), #dff4ff 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    a{color:inherit;text-decoration:none}

    /* Topbar */
    .topbar{
      position:sticky;top:0;left:0;right:0;
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;padding:12px 20px;
      background: linear-gradient(90deg, rgba(255,255,255,0.7), rgba(255,255,255,0.45));
      border-bottom:1px solid var(--border);
      box-shadow:0 4px 16px rgba(7,38,58,0.03);
      z-index:100;
    }
    .brand{display:flex;align-items:center;gap:12px}
    .brand img{width:56px;height:56px;border-radius:12px;object-fit:cover;border:3px solid var(--white);box-shadow:0 8px 22px rgba(7,38,58,0.06)}
    .brand h1{font-size:1rem;margin:0}
    .brand p{margin:0;font-size:0.78rem;color:var(--muted)}

    .top-actions{display:flex;gap:8px;align-items:center}
    .icon-btn{
      display:inline-flex;align-items:center;justify-content:center;
      width:40px;height:40px;border-radius:10px;background:var(--white);
      border:1px solid rgba(7,38,58,0.06);box-shadow:0 8px 18px rgba(7,38,58,0.04);
      color:var(--text);font-weight:700;cursor:pointer;
    }
    .icon-btn:hover{transform:translateY(-2px)}

    /* Layout */
    .container{max-width:1120px;margin:28px auto;padding:0 20px 80px}
    header{display:flex;align-items:center;gap:20px;margin-bottom:18px}
    .hero{flex:1}
    .hero h2{margin:0;font-size:1.6rem}
    .hero p{margin:6px 0 0;color:var(--muted);max-width:720px}

    .grid{display:grid;grid-template-columns:1fr 420px;gap:20px;align-items:start}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} header{flex-direction:column;align-items:flex-start} }

    .card{
      background: linear-gradient(180deg,var(--card), var(--bg-200));
      border-radius:var(--radius);
      padding:18px;
      box-shadow:var(--shadow);
      border:1px solid var(--border);
    }

    label{display:block;font-size:0.9rem;color:var(--muted);margin-bottom:6px}
    input[type="text"], textarea, select {
      width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(7,38,58,0.06);
      background:linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.7));
      color:var(--text);outline:none;box-shadow:inset 0 1px 0 rgba(255,255,255,0.2)
    }
    textarea{min-height:100px;resize:vertical}

    .ticket-options{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
    .ticket-options label{
      display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.6));
      border:1px solid rgba(7,38,58,0.04);cursor:pointer;font-weight:700;color:var(--text)
    }
    .ticket-options input{display:none}
    .ticket-options input:checked + span,
    .ticket-options input:checked + label{ background: linear-gradient(90deg,var(--accent-o),var(--accent-o-2)); color:#07263a; }

    .asset-buttons{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
    .asset-buttons button{
      padding:8px 12px;border-radius:10px;border:1px solid rgba(7,38,58,0.05);
      background:transparent;color:var(--text);cursor:pointer;font-weight:700
    }
    .asset-buttons button.active{ background: linear-gradient(90deg,var(--accent-o-2),var(--accent-o)); color:#07263a; transform:translateY(-2px) }

    .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn-primary{background:linear-gradient(90deg,var(--accent-o),var(--accent-o-2));color:var(--white);padding:10px 14px;border-radius:12px;border:none;font-weight:800;cursor:pointer;box-shadow:0 10px 24px rgba(255,159,74,0.16)}
    .btn-secondary{background:transparent;border:1px solid rgba(7,38,58,0.06);padding:10px 14px;border-radius:12px;color:var(--text);cursor:pointer}

    /* Fees panel */
    .fees-box{background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.55)); border-radius:10px;padding:12px;border:1px solid rgba(7,38,58,0.04)}
    .fees-row{display:flex;justify-content:space-between;padding:8px 6px;border-bottom:1px dashed rgba(7,38,58,0.04)}
    .fees-row:last-child{border-bottom:none}
    .fees-row .label{color:var(--muted)} .fees-row .value{font-weight:800;color:var(--text)}

    .note{font-size:0.85rem;color:var(--muted);margin-top:10px}

    footer{max-width:1120px;margin:24px auto 60px;padding:0 20px;color:var(--muted);font-size:0.85rem}
  </style>
</head>
<body>
  <div class="topbar" role="banner" aria-label="Topbar">
    <div class="brand">
      <!-- Using the icon already saved in the repo root at assets/ticket.png -->
      <img src="assets/ticket.png" alt="accesseasy logo" />
      <div>
        <h1>accesseasy</h1>
        <p>Event payments on Solana</p>
      </div>
    </div>

    <div class="top-actions" role="navigation" aria-label="social links">
      <a class="icon-btn" href="https://github.com/accesseasy" target="_blank" rel="noopener">GH</a>
      <a class="icon-btn" href="https://x.com/vntlayer" target="_blank" rel="noopener">X</a>
      <a class="icon-btn" href="https://t.me/NWO_sol_token_official" target="_blank" rel="noopener">TG</a>
      <a class="icon-btn" href="https://pump.fun/coin/HBpx1KCMhqsB5yKrZTqX747EPGTdfm8LJeUgNsbGpump" target="_blank" rel="noopener">PF</a>
    </div>
  </div>

  <main class="container" role="main">
    <header>
      <div class="hero">
        <h2>Create events & accept crypto payments — easy, fast, secure</h2>
        <p class="lead">Use accesseasy to mint tickets, accept payments on Solana and manage access — non-custodial and low-fee.</p>
      </div>
      <div style="width:120px;display:flex;align-items:center;justify-content:center">
        <img src="assets/ticket.png" alt="ticket icon" style="width:110px;height:110px;border-radius:12px;box-shadow:0 12px 30px rgba(7,38,58,0.08)" />
      </div>
    </header>

    <section class="grid" aria-label="main grid">
      <div class="card" aria-labelledby="host-form">
        <h3 id="host-form" style="margin-top:0">Host Dashboard</h3>

        <label for="address">Address</label>
        <input id="address" type="text" placeholder="Venue address">

        <label style="margin-top:12px">Number of Tickets</label>
        <div class="ticket-options" role="radiogroup" aria-label="ticket quantities">
          <label><input type="radio" name="tickets" value="100"><span>100</span></label>
          <label><input type="radio" name="tickets" value="250"><span>250</span></label>
          <label><input type="radio" name="tickets" value="500"><span>500</span></label>
          <label><input type="radio" name="tickets" value="1000"><span>1000</span></label>
          <label><input type="radio" name="tickets" value="2500"><span>2500</span></label>
          <label><input type="radio" name="tickets" value="10000"><span>10000</span></label>
        </div>

        <label style="margin-top:12px">Payment Asset</label>
        <div class="asset-buttons" role="group" aria-label="payment assets">
          <button type="button" data-asset="USDC">USDC</button>
          <button type="button" data-asset="EURC">EURC</button>
          <button type="button" data-asset="NWO">NWO</button>
          <button type="button" data-asset="DESPERADO">DESPERADO</button>
        </div>

        <div class="actions">
          <button id="save-event" class="btn-primary">Save Event</button>
          <button id="reset" class="btn-secondary">Reset</button>
        </div>
      </div>

      <aside class="card" aria-labelledby="fees">
        <h3 id="fees" style="margin-top:0">Fees & Conversions</h3>

        <div class="fees-box" role="status" aria-live="polite">
          <div class="fees-row"><div class="label">Platform Fee</div><div class="value" id="platform-fee">—</div></div>
          <div class="fees-row"><div class="label">Total Fee</div><div class="value" id="total-fee">—</div></div>
          <div class="fees-row"><div class="label" id="asset-amt-label">Amount in selected asset</div><div class="value" id="asset-amt">t.b.a</div></div>

          <div style="margin-top:10px">
            <div style="display:flex;justify-content:space-between;padding:6px 0"><div class="token-name">SOL price (USD)</div><div id="sol-usd" style="font-weight:700">—</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0"><div class="token-name">DESPERADO</div><div id="tok1-amt" style="font-weight:700">t.b.a</div></div>
            <div style="display:flex;justify-content:space-between;padding:6px 0"><div class="token-name">NWO</div><div id="tok2-amt" style="font-weight:700">t.b.a</div></div>
          </div>

          <div class="note">Conversions update when you select tickets or an asset. USDC/EURC use CoinGecko contract lookups when available.</div>
        </div>
      </aside>
    </section>
  </main>

  <footer>
    <div style="max-width:1120px;margin:0 auto;padding:0 20px 40px;">
      © accesseasy — built on Solana · non-custodial software
    </div>
  </footer>

  <script>
    // Basic interactive conversions (keeps behavior from earlier dashboard)
    (function(){
      const FEE_TABLE = { "100":0.3,"250":0.55,"500":1.0,"1000":1.8,"2500":3.0,"10000":9.0 };
      const COINGECKO_CONTRACT_API = 'https://api.coingecko.com/api/v3/coins/solana/contract/';
      const COINGECKO_SIMPLE = 'https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd';
      const USDC_CONTRACT = 'EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v';
      const EURC_CONTRACT = 'HzwqbKZw8HxMN6bF2yFZNrht3c2iXXzpKcFu7uBEDKtr';

      const ticketRadios = Array.from(document.querySelectorAll('input[name="tickets"]'));
      const assetButtons = Array.from(document.querySelectorAll('.asset-buttons button'));
      const platformFeeEl = document.getElementById('platform-fee');
      const totalFeeEl = document.getElementById('total-fee');
      const assetAmtEl = document.getElementById('asset-amt');
      const assetAmtLabel = document.getElementById('asset-amt-label');
      const solUsdEl = document.getElementById('sol-usd');

      let selectedTicket = null; let totalSOL = 0; let selectedAsset = null;

      function fmtSOL(s){ return s.toFixed(6) + ' SOL'; }
      function safeFmt(n){ if(n==null || !isFinite(n)) return 't.b.a'; return Number(n.toFixed(6)).toString(); }

      function updateFeesUI(){
        const sel = ticketRadios.find(r=>r.checked);
        if(!sel){ platformFeeEl.textContent='—'; totalFeeEl.textContent='—'; assetAmtEl.textContent='t.b.a'; selectedTicket=null; totalSOL=0; return; }
        selectedTicket = sel.value;
        totalSOL = FEE_TABLE[selectedTicket];
        platformFeeEl.textContent = fmtSOL(totalSOL);
        totalFeeEl.textContent = fmtSOL(totalSOL);
        updateConversions();
      }

      async function fetchSolUsd(){
        try{ const res = await fetch(COINGECKO_SIMPLE); const j = await res.json(); return j?.solana?.usd ?? null; } catch(e){ return null; }
      }
      async function fetchTokenUsdByContract(contract){
        try{ const res = await fetch(COINGECKO_CONTRACT_API + encodeURIComponent(contract)); if(!res.ok) return null; const j = await res.json(); return j?.market_data?.current_price?.usd ?? null; }catch(e){ return null; }
      }

      async function updateConversions(){
        solUsdEl.textContent = 'Loading...';
        assetAmtEl.textContent = 't.b.a';

        const solUsd = await fetchSolUsd();
        if(solUsd) solUsdEl.textContent = '$' + Number(solUsd).toFixed(2); else solUsdEl.textContent = 'N/A';

        if(!selectedTicket || !totalSOL){ assetAmtEl.textContent='t.b.a'; return; }

        // If selected asset is USDC/EURC calculate via CoinGecko contract price
        if(selectedAsset === 'USDC'){
          assetAmtLabel.textContent = 'Amount in USDC';
          const tokenUsd = await fetchTokenUsdByContract(USDC_CONTRACT);
          if(!tokenUsd || !solUsd){ assetAmtEl.textContent='t.b.a'; return; }
          const amount = (totalSOL * solUsd) / tokenUsd;
          assetAmtEl.textContent = safeFmt(amount);
          return;
        }
        if(selectedAsset === 'EURC'){
          assetAmtLabel.textContent = 'Amount in EURC';
          const tokenUsd = await fetchTokenUsdByContract(EURC_CONTRACT);
          if(!tokenUsd || !solUsd){ assetAmtEl.textContent='t.b.a'; return; }
          const amount = (totalSOL * solUsd) / tokenUsd;
          assetAmtEl.textContent = safeFmt(amount);
          return;
        }

        assetAmtLabel.textContent = 'Amount in selected asset';
        assetAmtEl.textContent = 't.b.a';
      }

      // interactions
      ticketRadios.forEach(r=>r.addEventListener('change', updateFeesUI));
      assetButtons.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          assetButtons.forEach(b=>b.classList.remove('active'));
          btn.classList.add('active');
          selectedAsset = btn.dataset.asset;
          updateConversions();
        });
      });

      document.getElementById('reset').addEventListener('click', ()=>{
        document.getElementById('event-form').reset();
        assetButtons.forEach(b=>b.classList.remove('active'));
        selectedAsset = null;
        platformFeeEl.textContent='—'; totalFeeEl.textContent='—'; assetAmtEl.textContent='t.b.a'; solUsdEl.textContent='—';
        selectedTicket = null; totalSOL = 0;
      });

      // init
      updateFeesUI();

    })();
  </script>
</body>
</html>
